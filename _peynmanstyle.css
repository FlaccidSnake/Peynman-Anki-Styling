/*------------------------------------------------------------------------------
  DEFAULTS
*/

:root {
  /* Background colours: Palette eyedroppered from Anki nightmode */
  --background-colour-DarkestGrey: #252525; /* Cutout colour */
  --background-colour-DarkGrey: #2c2c2c; /* Main background colour */
  --background-colour-MidGrey: #4c4a48; /* Only used on the active window topbar */
  --background-colour-LightGrey: #404040; /* Main standout colour */
  --background-colour-LightestGrey: #454545; /* Scrollbars only really */
  --cloudy-grey-overlay: rgba(255, 255, 255, 0.5);

  /* 4Chan /fit/ palette */
  --fit-text-normal: #111111;
  --fit-text-lightblue: #414167;
  --fit-text-darkblue: #0f0c5d;
  --fit-text-red: #dc1315;
  --fit-text-green: #117743;
  --fit-background: #eef2ff;
  --fit-cards: #d6daf0;

  /* 4Chan classic palette */
  --4chan-green: #789922; /* RGB value is (120,153,34) */
  --4chan-red: #972622;
  --4chan-background: #ffffee;
  --4chan-cards: #f0e0d6;
  --4chan-darkred: #40201e;
  --4chan-brightred: #cc1105;
  --4chan-namegreen: #127744;

  /* My colours */
  --heading-colour: #5EB3B3;
  --mini-grey: #767676;
  --grey-out: #7a7a7b;

  /* Default text values */
  --huge-heading-text-size: 26px; 
  --big-heading-text-size: 22px;
  --med-heading-text-size: 20px;
  --normal-body-text-size: 16px;
  --small-body-text-size: 12px;
  --tiny-body-text-size: 8px;

  --padding: 10px;
  --font: 'Arial';
  --body-text-colour: #ffffff;
  --line-height: 1.5;
  --size-buff: 120%;
  --size-nerf: 90%;

  /* Container variables */
  --corner-radius: 0.5em;
  --border: 1px solid transparent;
  --spacer: 2px;
  --box-width: 69%;

  /* Single light-source universal shadow styling */
  --one-lightbulb-shadow: 2px 2px 0px black; 
}

html {
  display: flex;
  justify-content: center;
  padding: var(--padding);
  font-family: var(--font);
  font-size: var(--normal-body-text-size);
  font-weight: 400;
  line-height: var(--line-height);
  margin: 0;
  height: 100%;
}

.card {
  background-color: var(--fit-background);
  color: var(--fit-text-normal);
  width: var(--box-width);
  position: relative;
  border-radius: var(--corner-radius);
  line-break: loose;
  padding: var(--padding);
}

.card .nightMode {
  color: var(--body-text-colour);
  background-color: var(--background-colour-DarkGrey);
}

.mobile .card {
  width: 95vw;
}

/*------------------------------------------------------------------------------
  IMAGE MODS
*/

img {
  max-width: var(--box-width);
  min-width: 40vw;
  object-fit: contain;
  display: block;
  margin: auto;
}

/* Click to zoom */
.win img:active,
.mac img:active {
  border: 1px solid var(--heading-colour);
  cursor: zoom-out;
  filter: none;
  left: 0;
  height: 999%;
  width: 999%;
  max-width: 90vw;
  max-height: 90vh;
  object-fit: contain;
  opacity: 1;
  position: fixed;
  top: 0;
  transform: translate(calc(50vw - 50%), calc(50vh - 50%));
  z-index: 100;
}

.microimg {
  max-height: 5vw;
  max-width: 5vw;
  object-fit: contain;
  justify-content: left;
}

/*------------------------------------------------------------------------------
  CHARACTER MODS
*/

/* Bold style */
b {
  color: #cf2c70;
  font-size: var(--size-buff);
}

/* Underline style */
u {
  color: #028061;
  font-size: var(--size-buff);
} 

/* Italics style */
i {
  color: #e08f0b;
  font-size: var(--size-buff);
}

/* Link style */
a {
  color: #5EB3B3 !important;
  text-decoration: none;
  font-size: var(--size-buff);
  font-style: normal;
}

a:hover {
  text-decoration: underline;
  cursor: pointer;    
}

/* Strikethrough styling */
strike,
s {
  font-size: var(--size-nerf);
  color: var(--mini-grey);
  text-decoration: none;
  padding: 5px;
}

/*------------------------------------------------------------------------------
  CLOZE STYLING
*/

.cloze {
  color: var(--4chan-green);
  font-size: var(--size-buff);
}

/*------------------------------------------------------------------------------
  HEADING CLASSES
*/

.background {
  position: absolute;
  white-space: nowrap;
  top: 0;
  left: 100%;
  writing-mode: vertical-rl;
  height: 100vh;
  width: auto;
  z-index: 2;
  font-size: var(--huge-heading-text-size); 
  line-height: var(--line-height);
  color: var(--background-colour-DarkGrey);
  text-shadow: var(--one-lightbulb-shadow);
}

.heading,
.sourceheading {
  font-weight: bold;
  color: var(--fit-text-lightblue); 
  font-size: var(--big-heading-text-size);
  font-variant: small-caps;
  display: flex;
  justify-content: space-between;
  z-index: 3;
}

.nightMode .heading,
.nightMode .sourceheading {
  color: var(--heading-colour);
}

/* Sticky heading */
.heading2 { /* Note that this style has _boldquestions.js targeting it; any question words (e.g. "why", "what", "how", etc.) will become bold. */
  font-size: var(--big-heading-text-size);
  z-index: 2;
  position: sticky; 
  top: -10px;
  margin: 0px -10px 5px -10px;
  padding: 0px 10px 5px 10px;
  background: var(--fit-cards);
  border: var(--border);
  border-radius: var(--corner-radius);
  will-change: transform;
  box-shadow: 0px 10px 10px -5px var(--fit-cards);
}

.nightMode .heading2 {
  background: var(--background-colour-LightGrey);
  box-shadow: 0px 10px 10px -5px var(--background-colour-LightGrey);
}

.heading3 {
  font-size: var(--big-heading-text-size);  
}

.subheading {
  font-size: var(--med-heading-text-size);
  text-align: left;
}

.blur-overlay {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background-color: var(--cloudy-grey-overlay);
  backdrop-filter: blur(10px);
}

.redacted {
  filter: blur(5px); 
  pointer-events: none;
}

.hover:hover {
  text-decoration: underline;
  cursor: pointer;   
}

/*------------------------------------------------------------------------------
  TEXT BOX CLASSES
*/

.text-box {
  background-color: var(--fit-cards);
  border: var(--border);
  border-radius: var(--corner-radius);
  margin-top: var(--spacer);
  padding: var(--padding);
  position: relative;
}

.nightMode .text-box {
  background-color: var(--background-colour-LightGrey);
}

.extra {
  color: var(--fit-text-darkblue);
  font-size: var(--size-nerf);
}

.nightMode .extra {
  color: var(--mini-grey);
}

.extra:empty {
  display: none;
}

.ref {
  color: var(--grey-out);
  font-size: var(--small-body-text-size);
  text-shadow:
    -1px -1px 0 var(--fit-cards),
    0   -1px 0 var(--fit-cards),
    1px -1px 0 var(--fit-cards),
    1px  0   0 var(--fit-cards),
    1px  1px 0 var(--fit-cards),
    0    1px 0 var(--fit-cards),
    -1px  1px 0 var(--fit-cards),
    -1px  0   0 var(--fit-cards);
}

.nightMode .ref {
  color: var(--background-colour-DarkGrey);
  text-shadow:
    -1px -1px 0 var(--background-colour-LightGrey),
    0   -1px 0 var(--background-colour-LightGrey),
    1px -1px 0 var(--background-colour-LightGrey),
    1px  0   0 var(--background-colour-LightGrey),
    1px  1px 0 var(--background-colour-LightGrey),
    0    1px 0 var(--background-colour-LightGrey),
    -1px  1px 0 var(--background-colour-LightGrey),
    -1px  0   0 var(--background-colour-LightGrey);
}

.ref:empty {
  display: none;
}

.cit {
  color: var(--grey-out);
  font-size: var(--small-body-text-size);
  text-align: right;
  font-style: italic;
  list-style-type: "- ";
}

.PBL {
  color: var(--grey-out);
}

.fuzzbox {
  text-align: center; 
  width: 90vw; 
  position: absolute; 
  top: 50%; 
  left: 50%; 
  transform: translate(-50%, -50%); 
  text-shadow: -1px 0 #2c2c2c, 0 1px #2c2c2c, 1px 0 #2c2c2c, 0 -1px #2c2c2c;
}

/*------------------------------------------------------------------------------
  FLEXBOX LAYOUTS
*/

.flexbox {
  display: flex;
}

.mobile .flexbox {
  display: block;
}

.flex-child {
  flex: 3 1;
}

.flex-child img {
  height: auto;
}

.mobile .flex-child {
  flex: 3 1;
}

.notepad {
  color: var(--4chan-green);
  font-size: var(--small-body-text-size);
  flex: 2 1;
  text-align: left;
  overflow: auto;
}

.strike-that {
  font-size: var(--size-nerf);
  color: var(--mini-grey);
  text-decoration: none;
  padding: 5px;
}

.columns {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.rows {
  display: flex;
  align-items: flex-start;
}

.column-1wide {
  flex: 1;
}

.column-3wide {
  flex: 3;
}

/*------------------------------------------------------------------------------
  CLICKABLE TAGS 
*/

.prettify-tags {
  font-family: var(--font);
  display: flex;
  flex-flow: row wrap;
  font-size: var(--small-body-text-size);
  margin-top: var(--spacer);
  pointer-events: inherit;
}

.mobile .prettify-tags {
  margin: 1em;
}

.prettify-tag {
  border-radius: 0.25em;
  display: inline;
  margin: 0 0.5em 0.5em 0;
  padding: 0.25em;
  transition: all 0.25s;
  word-break: break-word;
  border: 1px solid var(--fit-text-darkblue);
  font-family: var(--font);
  color: var(--fit-text-darkblue);
}

.nightMode .prettify-tag {
  border: 1px solid var(--background-colour-DarkGrey);
  color: var(--background-colour-DarkGrey);
}

.prettify-tag:hover {
  color: #ffffff;
  border: 1px solid #ffffff;
  cursor: pointer;
}

.heading-tags {
  font-weight: bold;
  font-family: var(--font);
  color: var(--background-colour-LightGrey); 
  font-size: var(--small-body-text-size);
  word-break: break-word; 
}

.heading-tag {
  all: initial;
  font-family: var(--font);
  display: inline;
  font-weight: bold;
  color: var(--background-colour-LightGrey); 
  font-size: var(--small-body-text-size);
  word-break: break-word;
}

.heading-tag:hover {
  color: #ffffff;
  cursor: pointer;
}

/*------------------------------------------------------------------------------
  ABBREVIATIONS FIX FOR MOBILE
*/

abbr[title]:after {
  content: " (" attr(title) ")";
}

@media screen and (min-width: 1025px) {
  abbr[title] {
    cursor: help;
  }

  abbr[title]:after {
    content: "";
  }
}

/*------------------------------------------------------------------------------
  MULTI-QA CARD STYLES
*/

.qa-pair {
  margin: 15px 0;
  padding: 10px 0;
  border-bottom: 1px solid var(--background-colour-LightestGrey);
}

.nightMode .qa-pair {
  border-bottom: 1px solid var(--background-colour-MidGrey);
}

.qa-pair:last-child {
  border-bottom: none;
}

.question-box {
  margin-bottom: 10px;
}

.answer-box {
  background-color: var(--fit-cards);
  padding: var(--padding);
  border-radius: var(--corner-radius);
  margin: 10px 0;
  border-left: 3px solid var(--heading-colour);
}

.nightMode .answer-box {
  background-color: var(--background-colour-DarkGrey);
  border-left: 3px solid var(--heading-colour);
}

.hidden {
  display: none;
}

.reveal-btn {
  background-color: var(--heading-colour);
  color: var(--fit-background);
  border: none;
  padding: 10px 20px;
  border-radius: var(--corner-radius);
  cursor: pointer;
  font-size: var(--normal-body-text-size);
  font-family: var(--font);
  margin: 10px 0;
  transition: all 0.3s ease;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  display: block;
}

.reveal-btn:hover {
  background-color: var(--fit-text-lightblue);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.reveal-btn:active {
  transform: translateY(0);
}

.nightMode .reveal-btn {
  background-color: var(--heading-colour);
  color: var(--background-colour-DarkGrey);
}

.nightMode .reveal-btn:hover {
  background-color: var(--background-colour-LightestGrey);
  color: var(--heading-colour);
}

/*------------------------------------------------------------------------------
  SPECIAL EFFECTS
*/

/* Pulsating effect with shadow */
.pulsating-text-shadow {
  animation: pulseTextAndShadow 2.75s infinite ease-in-out;
}

@keyframes pulseTextAndShadow {
  0% {
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 1);
  }
  50% {
    text-shadow: var(--one-lightbulb-shadow);
  }
  100% {
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 1);
  }
}

/* NightMode version of animation */
@keyframes pulseTextAndShadowNM {
  0% {
    text-shadow: 0px 0px 0px transparent;
  }
  50% {
    text-shadow: 2px 2px 2px rgba(255, 255, 255, 1);
  }
  100% {
    text-shadow: 0px 0px 0px transparent;
  }
}

/* Following the cursor animation */ 
.text-follow-cursor {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transition: transform 0.2s ease;
}

.text-follow-cursor:hover {
  transform: translate(-50%, -50%) scale(1.1);
}

/* Neon button style */
#Neon2 {
  padding: 5px 20px;
  border: 1px solid #20A11C;
  border-radius: 5px;
  background: #20A11C;
  transition: 0.5s;
  color: black;
  text-shadow: none;
  box-shadow: 0 2px 10px 0;
}

#Neon2:hover {
  background: none;
  border-radius: 5px;
  color: #33FF2D;
  text-shadow: none;
  box-shadow: none;
}

/*------------------------------------------------------------------------------
  UNUSED CODE - SAVED FOR LATER
*/

/* Prettify cardstyling */
.prettify-flashcard {
  background-color: var(--card-bg);
  border-radius: 0.5em;
  border: 1px solid var(--card-border);
  box-shadow: var(--card-box-shadow) 0px 4px 6px;
  color: var(--text-fg);
  font-family: var(--font-family);
  font-size: var(--font-size-regular);
  line-height: 1.5;
  margin: 0 auto;
  max-width: var(--card-max-width);
  text-align: var(--card-text-align);
  word-wrap: break-word;
}

.prettify-flashcard ::selection {
  background-color: var(--text-bg-selected);
}

/* Alternative card themes */
.card-light-theme {
  background-color: #2c2c2c;
  --text-fg: #434c5e;
  --text-fg-faint: #4c566a;
  --text-bg-selected: #eceff4;
  --card-bg: #3d3d3d;
  --card-border: transparent;
  --divider: #d8dee9;
  --tag-fg: #4c566a;
  --tag-bg: transparent;
  --tag-fg-active: #8fbcbb;
  --tag-bg-active: transparent;
  --tag-border: #d8dee9;
  --tag-border-active: #8fbcbb;
  --cloze-fg: #8FBCBB;
  --cloze-bg: transparent;
  --link-fg: #81a1c1;
  --link-bg: transparent;
  --link-fg-active: #8fbcbb;
  --link-bg-active: #eceff4;
  --bold-fg: #bf616a;
  --italic-fg: #ebcb8b;
  --bold-italic-fg: #d08770;
  --underline-fg: #a3be8c;
}

.card-dark-theme {
  background-color: #2c2c2c;
  --text-fg: #e7e9f0;
  --text-fg-faint: #d8dee9;
  --text-bg-selected: #3b4252;
  --card-bg: #3d3d3d;
  --card-border: transparent;
  --divider: #d8dee9;
  --tag-fg: #d8dee9;
  --tag-bg: transparent;
  --tag-fg-active: #8fbcbb;
  --tag-bg-active: transparent;
  --tag-border: #4c566a;
  --tag-border-active: #8fbcbb;
  --cloze-fg: #8fbcbb;
  --cloze-bg: transparent;
  --link-fg: #81a1c1;
  --link-bg: transparent;
  --link-fg-active: #8fbcbb;
  --link-bg-active: #434c5e;
  --bold-fg: #bf616a;
  --italic-fg: #ebcb8b;
  --bold-italic-fg: #d08770;
  --underline-fg: #a3be8c;
}
